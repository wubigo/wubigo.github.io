<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>wubigo on wubigo</title>
    <link>https://wubigo.com/</link>
    <description>Recent content in wubigo on wubigo</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 22 Oct 2021 11:59:36 +0800</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Lambda Redeploy Across Region</title>
      <link>https://wubigo.com/post/lambda-redeploy-across-region/</link>
      <pubDate>Fri, 22 Oct 2021 11:59:36 +0800</pubDate>
      
      <guid>https://wubigo.com/post/lambda-redeploy-across-region/</guid>
      <description>

&lt;h1 id=&#34;设置默认配置&#34;&gt;设置默认配置&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;export AWS_PROFILE=us
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;下载部署包&#34;&gt;下载部署包&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;aws lambda get-function --function-name webdriver


&amp;quot;Code&amp;quot;: {
        &amp;quot;RepositoryType&amp;quot;: &amp;quot;S3&amp;quot;,
        &amp;quot;Location&amp;quot;: &amp;quot;https://awslambda-ap-ne-1-tasks.s3.ap-northeast-1.amazonaws.com/snapshots/webdriver-aeb2eb63-9baf-4d06-9d3a-79459b172200?versionId=a71tk2dwwmvW1lPNB5VHKq8SbGS3laqE&amp;amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaDmFwLW5vcnRoZWFzdC0xIkcwRQIhAMRkIxPh1Fkd2nlCzgiDbsrmnCZEVunHibw2Cm6cyRIUAiB5t60IO6iESPDeUsTuQEjGyLfI73QyMK1mJY9Al70yECqNBAj8%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAIaDDkxOTk4MDkyNTEzOSIMjVD0S8e1HGmJujr6KuEDO8SCL9OcolFOwL4IKMbE3euJLEtiGjSxH6c8jRPbnjp07Zf%2BxrOfJmWT2MORQs0RAQSLJV5nOFfRWTIPI4dSNhI3Q628XqklZ8%2BF1UktvA5vRdEU3LhDvOSsDCmL19k&amp;amp;X-Amz-Signature=7f876918ec5283db390a3037512e7ad62e434330ec3e406db18b25f25f3da0fe&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;从Location下载部署包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;PROF = &amp;quot;eu-central-1&amp;quot;

aws lambda create-function --function-name webdriver --runtime nodejs12.x --zip-file fileb:///home/ubuntu/webdriver.zip --handler index.handler  --role arn:aws:iam::762491489154:role/service-role/webdriver-role-3hxi35t5   --timeout 63 --memory-size 1024 --layers arn:aws:lambda:us-east-1:764866452798:layer:chrome-aws-lambda:25  --profile us
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;配置&#34;&gt;配置&lt;/h1&gt;

&lt;p&gt;&lt;code&gt;role-policy.json&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{
    &amp;quot;Version&amp;quot;: &amp;quot;2012-10-17&amp;quot;,
    &amp;quot;Statement&amp;quot;: [
    {
        &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;,
        &amp;quot;Principal&amp;quot;: {
            &amp;quot;Service&amp;quot;: [&amp;quot;lambda.amazonaws.com&amp;quot;]
    },
    &amp;quot;Action&amp;quot;: &amp;quot;sts:AssumeRole&amp;quot;
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;aws iam create-role --role-name lambda-s3 --assume-role-policy-document file://role-policy.json
aws iam attach-role-policy --role-name lambda-s3 --policy-arn arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;测试&#34;&gt;测试&lt;/h1&gt;

&lt;p&gt;aws lambda invoke &amp;ndash;function-name webdriver &amp;ndash;cli-binary-format raw-in-base64-out &amp;ndash;payload &amp;lsquo;{&amp;ldquo;pageNo&amp;rdquo;: 5}&amp;rsquo; out &amp;ndash;log-type Tail &amp;ndash;query &amp;lsquo;LogResult&amp;rsquo; &amp;ndash;output text &amp;ndash;profile us |  base64 -d&lt;/p&gt;

&lt;h1 id=&#34;调度&#34;&gt;调度&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;aws events put-rule --name webdriver-scheduled-rule --schedule-expression &#39;rate(30 minutes)&#39; 


aws lambda add-permission --function-name webdriver --statement-id webdriver-scheduled-event --action &#39;lambda:InvokeFunction&#39; --principal events.amazonaws.com --source-arn arn:aws:events:eu-central-1:762491489154:rule/webdriver-scheduled-rule
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;aws events put-targets &amp;ndash;rule webdriver-scheduled-rule &amp;ndash;targets file://targets.json&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Web Test Automation in Lambda Way</title>
      <link>https://wubigo.com/post/web-test-automation-in-lambda-way/</link>
      <pubDate>Sat, 09 Oct 2021 10:15:58 +0800</pubDate>
      
      <guid>https://wubigo.com/post/web-test-automation-in-lambda-way/</guid>
      <description>

&lt;h1 id=&#34;调整默认配置-设置内存和超时时间&#34;&gt;调整默认配置（设置内存和超时时间）&lt;/h1&gt;

&lt;p&gt;函数计算的模式内存是128 MB， 超时是3秒。  默认配置&lt;/p&gt;

&lt;p&gt;pyppeteer无法正常工作。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;aws lambda get-function --function-name webdriver
{
    &amp;quot;Configuration&amp;quot;: {
        &amp;quot;FunctionName&amp;quot;: &amp;quot;webdriver&amp;quot;,
        &amp;quot;FunctionArn&amp;quot;: &amp;quot;arn:aws:lambda:ap-northeast-1:762491489154:function:webdriver&amp;quot;,
        &amp;quot;Runtime&amp;quot;: &amp;quot;nodejs12.x&amp;quot;,
        &amp;quot;Role&amp;quot;: &amp;quot;arn:aws:iam::762491489154:role/service-role/webdriver-role-3hxi35t5&amp;quot;,
        &amp;quot;Handler&amp;quot;: &amp;quot;index.handler&amp;quot;,
        &amp;quot;CodeSize&amp;quot;: 598,
        &amp;quot;Description&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;Timeout&amp;quot;: 63,
        &amp;quot;MemorySize&amp;quot;: 1024,
        &amp;quot;LastModified&amp;quot;: &amp;quot;2021-10-08T09:44:02.000+0000&amp;quot;,
        &amp;quot;CodeSha256&amp;quot;: &amp;quot;Ma8ntxB5UxdLSOdotZBnSGDuBUDI+XEGlggfpPlV/AI=&amp;quot;,
        &amp;quot;Version&amp;quot;: &amp;quot;$LATEST&amp;quot;,
        &amp;quot;TracingConfig&amp;quot;: {
            &amp;quot;Mode&amp;quot;: &amp;quot;PassThrough&amp;quot;
        },
        &amp;quot;RevisionId&amp;quot;: &amp;quot;3c08812d-e958-4427-a47e-be628966be36&amp;quot;,
        &amp;quot;Layers&amp;quot;: [
            {
                &amp;quot;Arn&amp;quot;: &amp;quot;arn:aws:lambda:ap-northeast-1:764866452798:layer:chrome-aws-lambda:25&amp;quot;,
                &amp;quot;CodeSize&amp;quot;: 51779390
            }
        ],

&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;使用lambda-layer&#34;&gt;使用lambda  layer&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/shelfio/chrome-aws-lambda-layer&#34; target=&#34;_blank&#34;&gt;https://github.com/shelfio/chrome-aws-lambda-layer&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;注意要使用相应分区&lt;/p&gt;

&lt;h1 id=&#34;函数定义&#34;&gt;函数定义&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;const chromium = require(&#39;chrome-aws-lambda&#39;);


function getRandomInt(max) {
  let r = Math.floor(Math.random() * max)
  if ( r &amp;lt;= 1 )
    r = 2
  return r;
}


exports.handler = async (event, context, callback) =&amp;gt; {
  console.log(&amp;quot;fn EVENT: \n&amp;quot; + JSON.stringify(event, null, 2))
  let e = JSON.parse(JSON.stringify(event, null, 2));
  let pageNo = e[&amp;quot;pageNo&amp;quot;]
  if ( pageNo == null )
    pageNo = getRandomInt(17)
  console.log(&amp;quot;pageNo=&amp;quot;+pageNo);
  let result = null;
  let browser = null;

  try {
    
    let path = await chromium.executablePath;
    console.log(&amp;quot;browser begin: &amp;quot;+ path+&amp;quot;\n&amp;quot; );
    browser = await chromium.puppeteer.launch({
      args: chromium.args,
      defaultViewport: chromium.defaultViewport,
      executablePath: await chromium.executablePath,
      headless: chromium.headless,
      ignoreHTTPSErrors: true,
    });
    
    let page = await browser.newPage();
    await page.setDefaultTimeout(0);

    await page.goto(&#39;https://wubigo.com/post/page/&#39;+pageNo);
    console.log(&amp;quot;go to wubigo&amp;quot;);
    result = await page.title();
    console.log(&amp;quot;title: &amp;quot; +result +&amp;quot;\n&amp;quot; );
    

    const page2 = await browser.newPage();
    await page2.setDefaultNavigationTimeout(0);
    const articles = await page.$$(&#39;h3.article-title&#39;);
    for (let i = 0; i &amp;lt; articles.length; i++) {
      const link = await articles[i].$eval(&#39;a&#39;, a =&amp;gt; a.getAttribute(&#39;href&#39;))
        .catch((e) =&amp;gt; console.log(&#39;catch err: &#39; + e));
      console.log(&#39;link=&#39;+link);
      e[&amp;quot;link&amp;quot;+i]=link;
      // await articles[i].click().catch((e) =&amp;gt; console.log(&#39;err: &#39; + e));
      await page2.goto(&#39;https://wubigo.com/&#39;+link);
      // await page.goBack();
      
    }
  } catch (error) {
    return callback(error);
  } finally {
    if (browser !== null) {
      await browser.close();
    }
  }
  result = JSON.stringify(e)
  return callback(null, result);
};

&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;配置&#34;&gt;配置&lt;/h1&gt;

&lt;p&gt;&lt;code&gt;policy.json&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{
    &amp;quot;Version&amp;quot;: &amp;quot;2012-10-17&amp;quot;,
    &amp;quot;Statement&amp;quot;: [
    {
        &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;,
        &amp;quot;Principal&amp;quot;: {
            &amp;quot;Service&amp;quot;: [&amp;quot;lambda.amazonaws.com&amp;quot;, &amp;quot;s3.amazonaws.com&amp;quot;]
    },
    &amp;quot;Action&amp;quot;: &amp;quot;sts:AssumeRole&amp;quot;
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;aws iam create-role --role-name lambda-s3 --assume-role-policy-document file://policy.json
aws iam attach-role-policy --role-name lambda-s3 --policy-arn arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
aws iam attach-role-policy --role-name lambda-s3 --policy-arn arn:aws:iam::aws:policy/AmazonS3FullAccess
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;复制&#34;&gt;复制&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;aws lambda create-function --function-name webdriver --runtime nodejs12.x --zip-file fileb:///home/ubuntu/webdriver.zip --handler index.handler  --role arn:aws:iam::762491489154:role/service-role/webdriver-role-3hxi35t5   --timeout 63 --memory-size 1024 --layers arn:aws:lambda:us-east-1:764866452798:layer:chrome-aws-lambda:25  --profile us
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;执行&#34;&gt;执行&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;aws lambda invoke --function-name webdriver --cli-binary-format raw-in-base64-out --payload &#39;{&amp;quot;pageNo&amp;quot;: 5}&#39; response.json --profile us




aws lambda invoke --function-name webdriver --cli-binary-format raw-in-base64-out --payload &#39;{&amp;quot;pageNo&amp;quot;: 5}&#39; out --log-type Tail --query &#39;LogResult&#39; --output text --profile us |  base64 -d

&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;检查结果&#34;&gt;检查结果&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;cat response.json
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;eventbridge调度&#34;&gt;EventBridge调度&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;aws events put-rule --name webdriver-scheduled-rule --schedule-expression &#39;rate(30 minutes)&#39;


aws lambda add-permission --function-name webdriver --statement-id webdriver-scheduled-event --action &#39;lambda:InvokeFunction&#39; --principal events.amazonaws.com --source-arn arn:aws:events:ap-northeast-1:762491489154:rule/webdriver-scheduled-rule


aws events put-targets --rule webdriver-scheduled-rule --targets file://targets.json
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;targets.json&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[
    {
        &amp;quot;Id&amp;quot;: &amp;quot;1&amp;quot;,
        &amp;quot;Arn&amp;quot;: &amp;quot;arn:aws:lambda:ap-northeast-1:762491489154:function:webdriver&amp;quot;
    }
]

&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;检查调度结果&#34;&gt;检查调度结果&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;2021-10-21T09:55:56.099Z	397385df-555a-451a-9ba6-b9548438c797	INFO	fn EVENT: 
{
    &amp;quot;version&amp;quot;: &amp;quot;0&amp;quot;,
    &amp;quot;id&amp;quot;: &amp;quot;8945024c-4594-df8a-74f3-9c98b0e75ed5&amp;quot;,
    &amp;quot;detail-type&amp;quot;: &amp;quot;Scheduled Event&amp;quot;,
    &amp;quot;source&amp;quot;: &amp;quot;aws.events&amp;quot;,
    &amp;quot;account&amp;quot;: &amp;quot;762491489154&amp;quot;,
    &amp;quot;time&amp;quot;: &amp;quot;2021-10-21T09:55:11Z&amp;quot;,
    &amp;quot;region&amp;quot;: &amp;quot;ap-northeast-1&amp;quot;,
    &amp;quot;resources&amp;quot;: [
        &amp;quot;arn:aws:events:ap-northeast-1:762491489154:rule/webdriver-scheduled-rule&amp;quot;
    ],
    &amp;quot;detail&amp;quot;: {}
}


# 检查日志

`log-events.json`
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;{
 &amp;ldquo;logStreamName&amp;rdquo;: &amp;ldquo;2021/10/21/[$LATEST]eae72f7f77124ab69d0a1fc398172cec&amp;rdquo;,
 &amp;ldquo;logGroupName&amp;rdquo;: &amp;ldquo;/aws/lambda/webdriver&amp;rdquo;,
 &amp;ldquo;startFromHead&amp;rdquo;: true
}&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;


&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;aws logs describe-log-streams &amp;ndash;log-group-name /aws/lambda/webdriver &amp;ndash;log-stream-name-prefix 2021/10/21&lt;/p&gt;

&lt;p&gt;aws logs get-log-events &amp;ndash;cli-input-json file://log-events.json
```&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Maximum Number Files Hdfs</title>
      <link>https://wubigo.com/post/maximum-number-files-hdfs/</link>
      <pubDate>Sat, 09 Oct 2021 09:55:08 +0800</pubDate>
      
      <guid>https://wubigo.com/post/maximum-number-files-hdfs/</guid>
      <description>

&lt;h1 id=&#34;hdfs&#34;&gt;HDFS&lt;/h1&gt;

&lt;p&gt;The maximum number of files in HDFS depends on two things:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;total storage space in the cluster&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;the heap size of the NameNode.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;1) You can find out what percentage of storage has been used from HDFS
NameNode UI.&lt;/p&gt;

&lt;p&gt;2) The basic rule of thumb is that 1 GB heap is needed for every million of files.&lt;/p&gt;

&lt;p&gt;Each file object and each block object takes about 150 bytes of the memory. For example, if you have 10 million files and each file has 1 one block each, then you would need about 3GB of memory for the NameNode.&lt;/p&gt;

&lt;p&gt;If I had 10 million files, each using a block, then we would be using: 10 million + 10 million = 20 million * 150 = 3,000,000,000 bytes = 3 GB MEMORY. Keep in mind the NameNode will need memory for other processes. So to support 10 million files then your NameNode will need much more than 3GB of memory.&lt;/p&gt;

&lt;p&gt;So you can increase your max number of files as you go. With increasing
heap for every 1 million files.&lt;/p&gt;

&lt;h1 id=&#34;jindofs介绍和使用&#34;&gt;JindoFS介绍和使用&lt;/h1&gt;

&lt;p&gt;JindoFS提供兼容对象存储的纯客户端模式（SDK）和缓存模式（Cache），
以支持与优化Hadoop和Spark生态大数据计算对OSS的访问；
提供块存储模式（Block），以充分利用OSS的海量存储能力和优化文件系统元数据的操作。&lt;/p&gt;

&lt;p&gt;Q：Block模式跟HDFS相比，是更好的HDFS？&lt;/p&gt;

&lt;p&gt;A：
HDFS的常规限制为4亿，而Block模式元数据规模上支撑10亿以上的文件数，大于HDFS的限制，而且在集群高峰期时性能更为稳定。
HDFS有Java onheap限制，而Block模式没有Java onheap和内存限制，可以支持更大的数据规模。
Block模式轻运维，不用担心坏盘或坏节点，数据1备份放置在OSS上，支持上下线节点。
支持对冷数据做透明压缩和归档，使用多种手段进行成本优化，对接对象存储，支持EB级数据规模。
Block模式支持HDFS的一些重要特性。例如，HDFS AuditLog、Ranger集成和数据加密。&lt;/p&gt;

&lt;p&gt;Q：Block模式具有哪些特别的优势？&lt;/p&gt;

&lt;p&gt;A：
Block模式可以管理文件元数据和组织文件数据，因此可以不局限于OSS对象存储，完全可以满足各种大数据引擎对存储接口的需求。这些接口包括但不限于Rename的原子性和事务性能力、高性能本地写入、透明压缩、truncate、append、flush、sync和snapshot等。这些高阶存储接口对实现完整的POSIX和对接更多的大数据引擎到OSS是不可或缺的，例如，Flink、HBase、Kafka和Kudu。其他两种方式使用OSS也可以对接部分接口，但是能力和优势会有所不足。
Block模式在费用上优于其他两种方式使用OSS。Block模式中，因为全部数据中占比60%的温数据和热数据都在本地有缓存备份，大部分读请求都不会通过OSS，所以可以节省一部分费用。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Web Scrapy</title>
      <link>https://wubigo.com/post/web-scrapy/</link>
      <pubDate>Tue, 28 Sep 2021 08:57:03 +0800</pubDate>
      
      <guid>https://wubigo.com/post/web-scrapy/</guid>
      <description>

&lt;h1 id=&#34;用户代理&#34;&gt;用户代理&lt;/h1&gt;

&lt;p&gt;mobile devices browsing the web often see a pared-down ver‐
sion of sites, lacking banner ads, Flash, and other distractions. If you try changing
your User-Agent to something like the following, you might find that sites get a little
easier to scrape!&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;User-Agent:Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) 
AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 
Safari/9537.53
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;scrapy-architecture&#34;&gt;scrapy architecture&lt;/h1&gt;

&lt;p&gt;&lt;img src=&#34;https://wubigo.com/img/post/scrapy_architecture.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The data flow in Scrapy is controlled by the execution engine, and goes like this:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;The Engine gets the initial Requests to crawl from the Spider.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The Engine schedules the Requests in the Scheduler and asks for the next Requests to crawl.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The Scheduler returns the next Requests to the Engine.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The Engine sends the Requests to the Downloader, passing through the Downloader Middlewares (see process_request()).&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Once the page finishes downloading the Downloader generates a Response (with that page) and sends it to the Engine, passing through the Downloader Middlewares (see process_response()).&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The Engine receives the Response from the Downloader and sends it to the Spider for processing, passing through the Spider Middleware (see process_spider_input()).&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The Spider processes the Response and returns scraped items and new Requests (to follow) to the Engine, passing through the Spider Middleware (see process_spider_output()).&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The Engine sends processed items to Item Pipelines, then send processed Requests to the Scheduler and asks for possible next Requests to crawl.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The process repeats (from step 1) until there are no more requests from the Scheduler.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&#34;check-cookie&#34;&gt;check cookie&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;http://www.editthiscookie.com/&#34; target=&#34;_blank&#34;&gt;http://www.editthiscookie.com/&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;css-vs-xpath&#34;&gt;CSS vs XPATH&lt;/h1&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;center&#34;&gt;Goal&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;CSS&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;XPath&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;All Elements&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;*&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;//*&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;All P Elements&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;p&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;//p&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;All Child Elements&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;p &amp;gt; *&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;//p/*&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;Element By ID&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;#foo&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;//*[@id=’foo’]&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;Element By Class&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;.foo&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;//*[contains(@class,’foo’)] 1&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;Element With Attribute&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;*[title]&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;//*[@title]&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;First Child of All P&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;p &amp;gt; *:first-child&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;//p/*[0]&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;All P with an A child&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Not possible&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;//p[a]&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;Next Element&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;p + *&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;//p/following-sibling::*[0]&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;CSS selectors are better to use when dealing with classes, IDs and tag names. They are shorter and easier to read&lt;/p&gt;

&lt;p&gt;Use CSS Selectors for doing simple queries based on the attributes of the element. CSS Selectors tend to perform better, faster and more reliable than XPath in most browsers&lt;/p&gt;

&lt;h1 id=&#34;ref&#34;&gt;ref&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://cloud.tencent.com/developer/article/1050304&#34; target=&#34;_blank&#34;&gt;https://cloud.tencent.com/developer/article/1050304&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Lakehouse Notes</title>
      <link>https://wubigo.com/post/lakehouse-notes/</link>
      <pubDate>Fri, 24 Sep 2021 09:32:22 +0800</pubDate>
      
      <guid>https://wubigo.com/post/lakehouse-notes/</guid>
      <description>

&lt;h2 id=&#34;replication-method&#34;&gt;Replication Method&lt;/h2&gt;

&lt;p&gt;Replication Method - Replication method to use for extracting data from the database. STANDARD replication requires no setup on the DB side but will not be able to represent deletions incrementally. CDC uses the Binlog to detect inserts, updates, and deletes. This needs to be configured on the source database itself.&lt;/p&gt;

&lt;h1 id=&#34;s3-support-in-apache-hadoop&#34;&gt;S3 Support in Apache Hadoop&lt;/h1&gt;

&lt;p&gt;Apache Hadoop ships with a connector to S3 called &amp;ldquo;S3A&amp;rdquo;, with the url prefix &amp;ldquo;s3a:&amp;ldquo;;
its previous connectors &amp;ldquo;s3&amp;rdquo;, and &amp;ldquo;s3n&amp;rdquo; are deprecated and/or deleted from recent Hadoop versions.&lt;/p&gt;

&lt;p&gt;Amazon&amp;rsquo;s EMR Service is based upon Apache Hadoop, but contains modifications and their own closed-source S3 client&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Important: you need a consistency layer to use Amazon S3 as a destination of MapReduce, Spark and Hive work&lt;/strong&gt;
You cannot use any of the S3 filesystem clients as a drop-in replacement for HDFS. Amazon S3 is an &amp;ldquo;object store&amp;rdquo; with&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Eventual consistency: changes made by one application (creation, updates and deletions) will not be visible until some undefined time.&lt;/li&gt;
&lt;li&gt;Non-atomic rename and delete operations. Renaming or deleting large directories takes time proportional to the number of entries -and visible to other processes during this time, and indeed, until the eventual consistency has been resolved. This breaks the commit protocol used by all these applications to safely commit the output of multiple tasks within a job.
Hadoop 3.x ships with S3Guard for consistency, and the S3A Committers for committing work.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;统一元数据&#34;&gt;统一元数据&lt;/h1&gt;

&lt;p&gt;统一的元数据管理，可以实现：&lt;/p&gt;

&lt;h2 id=&#34;持久化的元数据存储&#34;&gt;持久化的元数据存储&lt;/h2&gt;

&lt;p&gt;支持统一元数据之前，元数据都是在集群内部的MySQL数据库，元数据会随着集群的释放而丢失，特别是EMR提供了灵活按量模式，集群可以按需创建用完就释放。如果您需要保留现有的元数据信息，必须登录集群手动将元数据信息导出。支持统一元数据之后，释放集群不会清理元数据信息。所以，在任何时候删除OSS上或者集群HDFS上数据（包括释放集群操作）的时候，需要先确认该数据对应的元数据已经删除（即要删掉数据对应的表和数据库），否则元数据库中可能出现一些脏数据。&lt;/p&gt;

&lt;h2 id=&#34;计算存储分离&#34;&gt;计算存储分离&lt;/h2&gt;

&lt;p&gt;EMR上可以支持将数据存放在阿里云OSS中，在大数据量的情况下将数据存储在OSS上会大大降低使用的成本，EMR集群主要用来作为计算资源，在计算完成之后可以随时释放，数据在OSS上，同时也不用再考虑元数据迁移的问题。&lt;/p&gt;

&lt;h2 id=&#34;数据共享&#34;&gt;数据共享&lt;/h2&gt;

&lt;p&gt;使用统一的元数据库，如果您的所有数据都存放在OSS之上，则不需要做任何元数据的迁移和重建，所有集群都是可以直接访问数据，这样每个EMR集群可以做不同的业务，但是可以很方便地实现数据的共享。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Chrome Read Mode</title>
      <link>https://wubigo.com/post/chrome-read-mode/</link>
      <pubDate>Thu, 26 Aug 2021 06:24:31 +0800</pubDate>
      
      <guid>https://wubigo.com/post/chrome-read-mode/</guid>
      <description>

&lt;h1 id=&#34;打开阅读模式&#34;&gt;打开阅读模式&lt;/h1&gt;

&lt;p&gt;Open a new tab and enter chrome://flags/#enable-reader-mode to jump directly to the Reader Mode Flag.&lt;/p&gt;

&lt;h1 id=&#34;使用&#34;&gt;使用&lt;/h1&gt;

&lt;p&gt;Reader Mode in Chrome is mad-easy to use. When you’re on a page that you’d like to push into the reader view, click on the three-dot menu button in the upper right, and then choose “Distill page.”&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>YARN2 Note</title>
      <link>https://wubigo.com/post/yarn2-note/</link>
      <pubDate>Fri, 20 Aug 2021 21:19:44 +0800</pubDate>
      
      <guid>https://wubigo.com/post/yarn2-note/</guid>
      <description>

&lt;h1 id=&#34;升级yarn&#34;&gt;升级YARN&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;npm install -g yarn@1.22.11



&amp;gt; yarn@1.22.11 preinstall C:\local\node-v14.17.5-win-x64\node_modules\yarn
&amp;gt; :; (node ./preinstall.js &amp;gt; /dev/null 2&amp;gt;&amp;amp;1 || true)

C:\local\node-v14.17.5-win-x64\yarn -&amp;gt; C:\local\node-v14.17.5-win-x64\node_modules\yarn\bin\yarn.js
C:\local\node-v14.17.5-win-x64\yarnpkg -&amp;gt; C:\local\node-v14.17.5-win-x64\node_modules\yarn\bin\yarn.js
+ yarn@1.22.11
updated 1 package in 0.7s
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;yarn-link&#34;&gt;yarn link&lt;/h1&gt;

&lt;p&gt;&lt;code&gt;/home/ubuntu/.config/yarn/link/matrix-js-sdk&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ubuntu@ip-172-31-44-135:~/.config/yarn/link$ ll
total 8
drwxrwxr-x 2 ubuntu ubuntu 4096 Aug 19 09:31 ./
drwxrwxr-x 3 ubuntu ubuntu 4096 Aug 19 07:25 ../
lrwxrwxrwx 1 ubuntu ubuntu   22 Aug 19 09:31 matrix-js-sdk -&amp;gt; ../../../matrix-js-sdk/
lrwxrwxrwx 1 ubuntu ubuntu   25 Aug 19 07:25 matrix-react-sdk -&amp;gt; ../../../matrix-react-sdk/
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;创建应用&#34;&gt;创建应用&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;yarn create react-app matrix

yarn start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;C:\Users\bigo\AppData\Local\Yarn\Data\global\node_modules\.bin\create-react-app&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;/home/ubuntu/.config/yarn/global/node_modules/.bin/create-react-app&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Matrix Web Client Dev Setup</title>
      <link>https://wubigo.com/post/matrix-web-client-dev-setup/</link>
      <pubDate>Thu, 19 Aug 2021 14:53:17 +0800</pubDate>
      
      <guid>https://wubigo.com/post/matrix-web-client-dev-setup/</guid>
      <description>

&lt;h1 id=&#34;准备环境&#34;&gt;准备环境&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;node -v
v14.17.5
npm install -g yarn@1.22.11
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;链接sdk&#34;&gt;链接SDK&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/matrix-org/matrix-js-sdk.git
pushd matrix-js-sdk
yarn link
yarn install
popd


git clone https://github.com/matrix-org/matrix-react-sdk.git
pushd matrix-react-sdk
yarn link
yarn link matrix-js-sdk
yarn install
popd



git clone https://github.com/vector-im/element-web.git
cd element-web
yarn link matrix-js-sdk
yarn link matrix-react-sdk
yarn install
yarn reskindex
yarn start

&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;启动&#34;&gt;启动&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;cp config.sample.json config.json

curl http://127.0.0.1:8080/
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;登录&#34;&gt;登录&lt;/h1&gt;

&lt;p&gt;homeserver：&lt;a href=&#34;http://192.168.43.16:8008/&#34; target=&#34;_blank&#34;&gt;http://192.168.43.16:8008/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Matrix Encrypted Communication</title>
      <link>https://wubigo.com/post/matrix-encrypted-communication/</link>
      <pubDate>Wed, 18 Aug 2021 17:46:17 +0800</pubDate>
      
      <guid>https://wubigo.com/post/matrix-encrypted-communication/</guid>
      <description>&lt;p&gt;The matrix specification does not enforce how users register with a server. It just specifies the URL path and absolute minimum keys. The reference homeserver uses a username/password to authenticate user, but other homeservers may use different methods. This is why you need to specify the type of method&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Decentralized Social Network: Federated VS P2P Protocol</title>
      <link>https://wubigo.com/post/decentralized-social-network-federated-vs-p2p-protocol/</link>
      <pubDate>Wed, 18 Aug 2021 15:55:30 +0800</pubDate>
      
      <guid>https://wubigo.com/post/decentralized-social-network-federated-vs-p2p-protocol/</guid>
      <description>

&lt;h1 id=&#34;matrix&#34;&gt;Matrix&lt;/h1&gt;

&lt;p&gt;Traditionally Matrix decentralises communication by replicating conversation history over a mesh of servers, so that no single server has ownership of a given conversation. Meanwhile, users connect to their given homeserver from clients via plain HTTPS + DNS. This has the significant disadvantage that for a user to have full control and ownership over their communication, they need to run their own server - which comes with a cost, and requires you to be a proficient sysadmin. In order to fully democratise communication and eliminate a compulsory dependency on a homeserver, we&amp;rsquo;ve started seriously working on making Matrix run as a P2P protocol by compiling homeservers to run clientside and using P2P transports such as libp2p - while seamlessly supporting all existing Matrix clients (e.g. Riot.im), bots and bridges with negligible changes. This work includes:&lt;/p&gt;

&lt;p&gt;Compiling Matrix homeservers (e.g. Dendrite) to efficiently run clientside
Layering HTTPS over P2P transports such as libp2p (e.g. &lt;a href=&#34;https://github.com/matrix-org/libp2p-proxy&#34; target=&#34;_blank&#34;&gt;https://github.com/matrix-org/libp2p-proxy&lt;/a&gt;)
Switching Matrix identifiers from @user:domain tuples to be Curve25519 public keys (MSC1228)
Decentralising accounts so they can be hosted concurrently on multiple nodes (e.g. a mix of server-side and client-side homeservers)
Experimenting with node discovery from DNS to DHTs and other mechanisms (e.g. gossip mechanisms)
Experimenting with smarter bandwidth-efficient routing algorithms than full-mesh (e.g. combinations of spanning trees, overlapping spanning trees, gossip mechanisms)
Making Matrix&amp;rsquo;s low-bandwidth CoAP transport production grade
Experimenting with metadata-protecting relay mechanisms rather than using full homeservers for server-side relaying.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://archive.fosdem.org/2020/schedule/event/dip_p2p_matrix/&#34; target=&#34;_blank&#34;&gt;https://archive.fosdem.org/2020/schedule/event/dip_p2p_matrix/&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;bluesky&#34;&gt;Bluesky&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://gitlab.com/bluesky-community1/decentralized-ecosystem&#34; target=&#34;_blank&#34;&gt;https://gitlab.com/bluesky-community1/decentralized-ecosystem&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>软件产品开发工时评估技巧</title>
      <link>https://wubigo.com/post/software-estimation/</link>
      <pubDate>Fri, 02 Jul 2021 08:57:53 +0800</pubDate>
      
      <guid>https://wubigo.com/post/software-estimation/</guid>
      <description>

&lt;p&gt;软件项目开发时间线很难做到精确的评估，但在项目管理的时候，&lt;/p&gt;

&lt;p&gt;我们必须要提供这个数字。&lt;/p&gt;

&lt;h1 id=&#34;重要特征-时间和不确定性&#34;&gt;重要特征：时间和不确定性&lt;/h1&gt;

&lt;p&gt;一个只包含时间的评估隐含了一定程度的不确定性。 如果你告诉我一个任务需要花10天时间，&lt;/p&gt;

&lt;p&gt;我会假设进度在控制之中。但如果你告诉我一个任务花10到15天，那这个期限就有很高的风险。&lt;/p&gt;

&lt;h1 id=&#34;项目工期评估技巧&#34;&gt;项目工期评估技巧&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;任务分解&lt;/li&gt;
&lt;li&gt;评估不确定性&lt;/li&gt;
&lt;li&gt;分别做最好和最坏情况的评估&lt;/li&gt;
&lt;li&gt;任务跟踪并优化&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;任务分解&#34;&gt;任务分解&lt;/h2&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;复杂度&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;时间(人天)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;小&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;1&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;中等&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;3&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;大&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;5&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;特别大&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;不用追求一步到位完成工时评估， 开始的时候做粗略的评估，&lt;/p&gt;

&lt;p&gt;该评估可能包含一些复杂度比较大的任务。&lt;/p&gt;

&lt;h2 id=&#34;评估不确定性&#34;&gt;评估不确定性&lt;/h2&gt;

&lt;p&gt;20-30人日与5-45人日的工时评估是完全不同的，即便两者的中位数都是25人天&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;不确定性级别&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;乘数效应&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;低&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;1.1&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;中等&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;1.5&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;大&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;2&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;特别大&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;计算工时&#34;&gt;计算工时&lt;/h2&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;任务&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;复杂度&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;不确定性&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;期望工时&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;最坏情况&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;计量支付私有化部署&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;低&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;大&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;20&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;40&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;这个任务预计20天完成，最坏情况需求40天。或者工时可以表示为20-40人日&lt;/p&gt;

&lt;h2 id=&#34;评估跟踪&#34;&gt;评估跟踪&lt;/h2&gt;

&lt;p&gt;最后一定要跟踪实际完成时间&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;任务&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;复杂度&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;不确定性&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;期望工时&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;最坏情况&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;实际工时&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;计量支付私有化部署&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;低&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;大&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;20&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;40&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;35&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
    <item>
      <title>Web性能优化指南</title>
      <link>https://wubigo.com/post/high-performance-browser-networking/</link>
      <pubDate>Sun, 06 Jun 2021 06:56:24 +0800</pubDate>
      
      <guid>https://wubigo.com/post/high-performance-browser-networking/</guid>
      <description>

&lt;h2 id=&#34;应用优化&#34;&gt;应用优化&lt;/h2&gt;

&lt;p&gt;Eliminating unnecessary data transfers is, of course, the single best optimization—e.g.,
eliminating unnecessary resources or ensuring that the minimum number of bits is
transferred by applying the appropriate compression algorithm. Following that, locating
the bits closer to the client, by geo-distributing servers around the world—e.g., using a
CDN—will help reduce latency of network roundtrips and significantly improve TCP
performance. Finally, where possible, existing TCP connections should be reused to
minimize overhead imposed by slow-start and other congestion mechanisms&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;No bit is faster than one that is not sent; send fewer bits.&lt;/li&gt;
&lt;li&gt;We can’t make the bits travel faster, but we can move the bits closer.&lt;/li&gt;
&lt;li&gt;TCP connection reuse is critical to improve performance.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;tcp性能优化检查清单&#34;&gt;TCP性能优化检查清单&lt;/h2&gt;

&lt;p&gt;• Upgrade server kernel to latest version (Linux: 3.2+).
• Ensure that cwnd size is set to 10.
• Disable slow-start after idle.
• Ensure that window scaling is enabled.
• Eliminate redundant data transfers.
• Compress transferred data.
• Position servers closer to the user to reduce roundtrip times.
• Reuse established TCP connections whenever possible.&lt;/p&gt;

&lt;h2 id=&#34;udp性能优化检查清单&#34;&gt;UDP性能优化检查清单&lt;/h2&gt;

&lt;p&gt;• Application must tolerate a wide range of Internet path conditions.
• Application should control rate of transmission.
• Application should perform congestion control over all traffic.
• Application should use bandwidth similar to TCP.
• Application should back off retransmission counters following loss.
• Application should not send datagrams that exceed path MTU.
• Application should handle datagram loss, duplication, and reordering.
• Application should be robust to delivery delays up to 2 minutes.
• Application should enable IPv4 UDP checksum, and must enable IPv6 checksum.
• Application may use keepalives when needed (minimum interval 15 seconds).&lt;/p&gt;

&lt;h2 id=&#34;tls性能优化检查清单&#34;&gt;TLS性能优化检查清单&lt;/h2&gt;

&lt;p&gt;• Get best performance from TCP.
 • Upgrade TLS libraries to latest release, and (re)build servers against them.
 • Enable and configure session caching and stateless resumption.
 • Monitor your session caching hit rates and adjust configuration accordingly.
 • Terminate TLS sessions closer to the user to minimize roundtrip latencies.
 • Configure your TLS record size to fit into a single TCP segment.
 • Ensure that your certificate chain does not overflow the initial congestion window.
 • Remove unnecessary certificates from your chain; minimize the depth.
 • Disable TLS compression on your server.
 • Configure SNI support on your server.
 • Configure OCSP stapling on your server.
 • Append HTTP Strict Transport Security header.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>招聘的出发点是补齐短板</title>
      <link>https://wubigo.com/post/hire-for-weaknesses/</link>
      <pubDate>Thu, 13 May 2021 16:13:30 +0800</pubDate>
      
      <guid>https://wubigo.com/post/hire-for-weaknesses/</guid>
      <description>&lt;p&gt;招聘的出发点是发现我们的弱点，而不是寻找天才。&lt;/p&gt;

&lt;p&gt;合理设计的招聘的流程是寻找到合适的人来补齐团队的短板，而不是最好的人。&lt;/p&gt;

&lt;p&gt;“我们寻找天才”，“候选人不到我们的标准”， 我们设计“公正”的测试去客观的&lt;/p&gt;

&lt;p&gt;评估求职者是否与我们认为的“优秀”匹配。&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;寻找天才&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;补齐短板&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;寻找最优秀的人&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;寻找能释放我们潜能的人&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;能做我们正在做的人&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;能做我们做不到的人&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;与我们认为的优秀匹配的人&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;拥有我们欠缺的能力的人&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;统一的面试流程&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;团队挑选候选人&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;给候选者打分&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;与候选者协作&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;文化匹配&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;欠缺的部分&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
    <item>
      <title>Secure Messaging System</title>
      <link>https://wubigo.com/post/secure-messaging-system/</link>
      <pubDate>Thu, 06 May 2021 07:36:19 +0800</pubDate>
      
      <guid>https://wubigo.com/post/secure-messaging-system/</guid>
      <description>&lt;p&gt;A secure messaging system is a system where no one but the user and their intended recipients can read the messages or otherwise analyze their contents to infer what they are talking about. Despite messages passing through a server, an end-to-end encrypted message will not allow the server to know the contents of a message. When that same server has a channel for revealing information about the contents of a significant portion of messages, that’s not end-to-end encryption&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>面部生物识别学习笔记</title>
      <link>https://wubigo.com/post/face-detection-notes/</link>
      <pubDate>Sat, 23 Jan 2021 19:58:46 +0800</pubDate>
      
      <guid>https://wubigo.com/post/face-detection-notes/</guid>
      <description>

&lt;p&gt;Once the face is detected, the AI then provides the information on&lt;/p&gt;

&lt;p&gt;its size, pose, and location&lt;/p&gt;

&lt;p&gt;The state-of-the-art face detection software uses pattern detection technology.&lt;/p&gt;

&lt;p&gt;No personal data is collected, and no images are stored.&lt;/p&gt;

&lt;h1 id=&#34;人脸检测基本方法&#34;&gt;人脸检测基本方法&lt;/h1&gt;

&lt;p&gt;&lt;img src=&#34;https://wubigo.com/img/post/face-detection-methods.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#Import Libraries
#Import Classifier for Face and Eye Detection
#Convert Image to Grayscale
#Give coordinates to detect face and eyes location from ROI
#Webcam setup for Face Detection
#When everything is done, release the capture&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
