<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.0.0">
  <meta name="generator" content="Hugo 0.54.0" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Wu Bigo">

  
  
  
    
  
  <meta name="description" content="">

  
  <link rel="alternate" hreflang="en-us" href="https://wubigo.com/post/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#4caf50">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-7621966-10', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  
  <link rel="alternate" href="https://wubigo.com/post/index.xml" type="application/rss+xml" title="NgAPP">
  <link rel="feed" href="https://wubigo.com/post/index.xml" type="application/rss+xml" title="NgAPP">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://wubigo.com/post/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@wubigo">
  <meta property="twitter:creator" content="@wubigo">
  
  <meta property="og:site_name" content="NgAPP">
  <meta property="og:url" content="https://wubigo.com/post/">
  <meta property="og:title" content="Posts | NgAPP">
  <meta property="og:description" content=""><meta property="og:image" content="https://wubigo.com/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="og:updated_time" content="2019-03-17T10:25:07&#43;08:00">
  

  

  

  <title>Posts | NgAPP</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">NgAPP</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        

        <li class="nav-item">
          <a class="nav-link" href="/">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#tags">
            
            <span>Tags</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>About</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/index.xml">
            
            <span>RSS</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>















  

  
  
  
    
  
<div class="universal-wrapper pt-3">
  <h1 itemprop="name">Posts</h1>

  

  
</div>



<div class="universal-wrapper">

  

  
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2019-03-17 10:25:07 &#43;0800 CST" itemprop="datePublished">
<meta content="2019-03-17 10:25:07 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Mar 17, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/k8s-logging/" itemprop="url">K8s Logging</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    Node-level Logging  System component logs      RUN IN CONTAINER(Y/N) Systemd(W/WO) LOGGER LOCATION     kubelet and container runtime  W/O /var/log   kubelet and container runtime  W journald   scheduler Y  /var/log   kube-proxy Y  /var/log    /var/lib/kubelet/pods/&lt;PodUID&gt;/
/var/log/pods/&lt;PodUID&gt;/&lt;container_name&gt;
ls -l /var/log/pods/&lt;PodUID&gt;/&lt;container_name&gt;/ lrwxrwxrwx 1 root root 165 3月 30 06:52 0.log -&gt; /var/lib/docker/containers/e74eafc4b3f0cfe2e4e0462c93101244414eb3048732f409c29cc54527b4a021/e74eafc4b3f0cfe2e4e0462c93101244414eb3048732f409c29cc54527b4a021-json.log  Cluster-level logging  Use a node-level logging agent that runs on every node.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2019-03-04 11:13:20 &#43;0800 CST" itemprop="datePublished">
<meta content="2019-03-04 11:13:20 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Mar 4, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/k8s-core-development/" itemprop="url">K8S CORE DEVELOPMENT</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    

<pre><code>git clone git@github.com:wubigo/kubernetes.git
git remote add upstream https://github.com/kubernetes/kubernetes.git
git fetch --all
git checkout tags/v1.13.3 -b v1.13.3 
git branch -av|grep 1.13
* fix-1.13                            4807084f79 Add/Update CHANGELOG-1.13.md for v1.13.2.
  remotes/origin/release-1.13         4807084f79 Add/Update CHANGELOG-1.13.md for v1.13.2.

</code></pre>

<h1 id="管理pod">管理POD</h1>

<pre><code>func (kl *Kubelet) syncPod(o syncPodOptions) error {
</code></pre>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2019-03-03 20:24:49 &#43;0800 CST" itemprop="datePublished">
<meta content="2019-03-03 20:24:49 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Mar 3, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/dev-on-tencent-cloud-sdk-in-go/" itemprop="url">通过SDK操纵公有云</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    

<p>基于腾讯云Go SDK开发</p>

<h1 id="下载开发工具集">下载开发工具集</h1>

<pre><code>go get -u github.com/tencentcloud/tencentcloud-sdk-go
</code></pre>

<h1 id="为集群准备cvm">为集群准备CVM</h1>

<p>从本地开发集群K8S读取安全凭证secretId和secretKey配置信息，
然后把安全凭证传送给SDK客户端</p>

<pre><code>secretId, secretKey:= K8SClient.Secrets(&quot;namespace=tencent&quot;).Get(&quot;cloud-pass&quot;)
credential := CloudCommon.NewCredential(&quot;secretId&quot;, &quot;secretKey&quot;)
client, _ := cvm.NewClient(credential, regions.Beijing)
</code></pre>

<pre><code>request := cvm.NewAllocateHostsRequest()
request.FromJsonString(K8SClient.Configs(&quot;namespace=tencent&quot;).Get(&quot;K8S-TENCENT-PROD&quot;))
response, err := client.AllocateHosts(request)
</code></pre>

<h1 id="通过ansible在cvm搭建k8s集群">通过ANSIBLE在CVM搭建K8S集群</h1>

<pre><code>Ansible.Hosts().Get(response.ToJsonString())
</code></pre>

<p>调用ANSIBLE开始在CVM部署K8S集群</p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2019-03-01 04:19:39 &#43;0800 CST" itemprop="datePublished">
<meta content="2019-03-01 04:19:39 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Mar 1, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/speech_recognition-transcribed-voice-dataset/" itemprop="url">mozilla crowdsources the largest dataset of human voices</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <p>转录语音数据集</p>

<p>mozilla crowdsources the largest dataset of human voices available for use, including 18 different languages, adding up to almost 1,400 hours of recorded voice data from more than 42,000 contributors</p>

<p><a href="https://blog.mozilla.org/blog/2019/02/28/sharing-our-common-voices-mozilla-releases-the-largest-to-date-public-domain-transcribed-voice-dataset/" target="_blank">https://blog.mozilla.org/blog/2019/02/28/sharing-our-common-voices-mozilla-releases-the-largest-to-date-public-domain-transcribed-voice-dataset/</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2019-02-24 16:18:43 &#43;0800 CST" itemprop="datePublished">
<meta content="2019-02-24 16:18:43 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Feb 24, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  
  
  <a href="/post/k8s-cni/">
      <img src="/post/k8s-cni/featured_hu151a870233abd48d7d559e366bf3c271_164765_918x517_fill_q90_lanczos_smart1.jpg" class="article-banner" itemprop="image" alt="">
  </a>
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/k8s-cni/" itemprop="url">K8S CNI操作指引</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    

<h1 id="简介">简介</h1>

<p>CNI是K8S的网络插件实现规范，与docker的CNM并不兼容，在K8S和docker的博弈过程中，
  K8S把docker作为默认的runtime并没有换来docker对K8S的支持。K8S决定支持CNI规范。
  许多网络厂商的产品都提供同时都支持CNM和CNI的产品。</p>

<p>在容器网络环境，经常看到docker看不到K8S POD的IP网络配置，
  DOCKER容器有时候和POD无法通信。</p>

<p>CNI相对CNM是一个轻量级的规范。网络配置是基于JSON格式，
  网络插件支持创建和删除指令。POD启动的时候发送创建指令。</p>

<p>POD运行时首先为分配一个网络命名空间，并把该网络命名空间制定给容器ID，
  然后把CNI配置文件传送给CNI网络驱动。网络驱动连接容器到自己的网络，
  并把分配的IP地址通过JSON文件报告给POD运行时POD终止的时候发送删除指令。</p>

<p>当前CNI指令负责处理IPAM, L2和L3, POD运行时处理端口映射(L4)</p>

<h1 id="k8s网络基础">K8S网络基础</h1>

<p><a href="/post/k8s-network-basic/">K8S网络基础</a></p>

<h1 id="cni插件">CNI插件</h1>

<h1 id="cni实现方式">CNI实现方式</h1>

<p>CNI有很多实现，在这里之列举熟悉的几个实现。并提供详细的说明文档。</p>

<ul>
<li><p>Flannel</p></li>

<li><p>Kube-router</p>

<p><a href="/post/k8s_cni_kube-router/">Kube-router</a></p></li>

<li><p>OpenVSwitch</p></li>

<li><p>Calico</p>

<p>Calico可以以非封装或非覆盖方式部署以支持高性能，高扩展扩展性数据中心网络需求</p>

<p><a href="/post/k8s_cni_calico">CNI-Calico</a></p></li>

<li><p>Weave Net</p></li>

<li><p>网桥</p>

<p><a href="/post/cni_l2_network_on_bare_metal/">CNI 网桥</a></p></li>
</ul>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2019-02-22 11:38:27 &#43;0800 CST" itemprop="datePublished">
<meta content="2019-02-22 11:38:27 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Feb 22, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    
    <a href="/categories/it/">IT</a>
    
  </span>
  
  

  

</div>

  

  
  
  
  
  <a href="/post/blog_on_hugo/">
      <img src="/post/blog_on_hugo/featured_hu284695fc8e59587d70e5b2d7df491030_200937_918x517_fill_q90_lanczos_smart1.jpg" class="article-banner" itemprop="image" alt="">
  </a>
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/blog_on_hugo/" itemprop="url">Blog on hugo way</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    Decide to gave hugo a shot after many years of being jekyll
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2019-02-12 09:56:28 &#43;0800 CST" itemprop="datePublished">
<meta content="2019-02-12 09:56:28 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Feb 12, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/git-extension-for-versioning-large-files/" itemprop="url">git管理大文件</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <p><a href="https://git-lfs.github.com/" target="_blank">https://git-lfs.github.com/</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2019-02-11 11:38:27 &#43;0800 CST" itemprop="datePublished">
<meta content="2019-02-11 11:38:27 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Feb 11, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    2 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    
    <a href="/categories/it/">IT</a>
    
  </span>
  
  

  

</div>

  

  
  
  
  
  <a href="/post/kubeamd-cheat-sheet/">
      <img src="/post/kubeamd-cheat-sheet/featured_huff6dce5c74a19d801415df9f3d509047_4091_918x517_fill_q90_lanczos_smart1.jpg" class="article-banner" itemprop="image" alt="">
  </a>
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/kubeamd-cheat-sheet/" itemprop="url">kubeamd cheat sheet</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    version notes
some only works on 1.13
kubeadm version: &amp;version.Info{Major:&quot;1&quot;, Minor:&quot;13&quot;, GitVersion:&quot;v1.13.3&quot;, GitCommit:&quot;721bfa751924da8d1680787490c54b9179b1fed0&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2019-02-16T15:29:34Z&quot;, GoVersion:&quot;go1.11.5&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}  Starting with Kubernetes 1.12, the K8S.gcr.io/kube-${ARCH}, K8S.gcr.io/etcd and K8S.gcr.io/pause images don’t require an -${ARCH} suffix
 get all Pending pods  kubectl get pods --field-selector=status.phase=Pending   images list  kubeadm config images list -v 4 I0217 07:28:13.305268 14495 interface.go:384] Looking for default routes with IPv4 addresses I0217 07:28:13.307275 14495 interface.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2019-02-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2019-02-01 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Feb 1, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/2019-02-01-http3notes/" itemprop="url">HTTP/3</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    track http redirection  http://wubigo.com/post -&gt; http://wubigo.com/post/ -&gt; https://wubigo.com/post/
curl -IL http://wubigo.com/post
 HTTP/1.1 301 Moved Permanently Location: https://wubigo.com/post Via: 1.1 varnish X-Cache: HIT X-Cache-Hits: 1 HTTP/1.1 200 OK Content-Length: 0 HTTP/1.1 301 Moved Permanently Strict-Transport-Security: max-age=31556952 Location: http://wubigo.com/post/ Access-Control-Allow-Origin: * X-Cache: HIT X-Cache-Hits: 1 HTTP/1.1 301 Moved Permanently Location: https://wubigo.com/post/ X-Cache: HIT X-Cache-Hits: 1 HTTP/1.1 200 OK Access-Control-Allow-Origin: * Cache-Control: max-age=600 X-Cache: HIT X-Cache-Hits: 1  main goal  HTTP/2&rsquo;s multiplexed connections, allowing multiple streams of data to reach all the endpoints independently.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-12-26 08:20:37 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-12-26 08:20:37 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Dec 26, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-s3-data-lake/" itemprop="url">Aws S3 Data Lake</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <p><img src="s3-catalog.png" alt="" /></p>

<p><a href="https://medium.com/people-ai-engineering/building-a-data-lake-in-aws-9c1fb3876e23" target="_blank">https://medium.com/people-ai-engineering/building-a-data-lake-in-aws-9c1fb3876e23</a></p>

<p><a href="https://towardsdatascience.com/building-a-data-pipeline-from-scratch-on-aws-35f139420ebc" target="_blank">https://towardsdatascience.com/building-a-data-pipeline-from-scratch-on-aws-35f139420ebc</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-12-15 22:54:39 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-12-15 22:54:39 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Dec 15, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    2 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/serverless-nodejs/" itemprop="url">函数计算Nodejs实例</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    restore snapshot shell snapshot.sh
!#/bin/bash wget https://nodejs.org/dist/v12.13.1/node-v12.13.1-linux-x64.tar.xz tar xvf node-v12.13.1-linux-x64.tar.xz export PATH=/home/ubuntu/node-v12.13.1-linux-x64/bin:$PATH wget https://manning-content.s3.amazonaws.com/download/0/ddbbd36-251d-42ef-9934-55e5a881a336/FinalSourceCode.zip sudo apt update sudo apt install unzip unzip FinalSourceCode.zip mv Final\ Source\ Code/ sls sudo apt install python-pip pip install awscli which aws_completer cp ~/.bashrc ~/.bashrc_orig tee -a ~/.bashrc &lt;&lt;-'EOF' complete -C '/home/ubuntu/.local/bin/aws_completer' aws export PATH=/home/ubuntu/node-v12.13.1-linux-x64/bin:$PATH EOF  aws configure npm install claudia -g claudia -v 5.11.0 cd chapter-03 npm install claudia create \ --region ap-northeast-1 \ --api-module api packaging files npm install -q --no-audit --production npm WARN pizza-api@1.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-12-13 11:45:14 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-12-13 11:45:14 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Dec 13, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/gatsby-debug/" itemprop="url">Gatsby Debug</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    Debugging the Build Process Gatsby’s build and develop steps run as a Node.js application
which you can debug using standard tools for Node.js applications.
Debugging with Node.js’ built-in console console.log(args)  VS Code Debugger (Auto-Config)  Preferences: Type node debug into the search bar. Make sure the Auto Attach option is set to on.
 launch.json
  launch.json
{ // Use IntelliSense to learn about possible attributes. // Hover to view descriptions of existing attributes.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-12-13 09:14:26 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-12-13 09:14:26 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Dec 13, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/server-side-rendering/" itemprop="url">Server Side Rendering</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    Client Side Rendering(CSR) Rendering an app in a browser, generally using the DOM
The initial HTML rendered by the server is a placeholder and
the entire user interface and data rendered in the browser
once all your scripts load.
PROS  Rich site interactions Fast rendering after the initial load Partial real-time updates Cheaper to host &amp; scale  CONS  SEO and index issues Mostly initial bundle.js load duration Performance issues on old mobile devices/slow networks Social Media crawlers and sharing problems (SMO)  Server Side Rendering(SSR) Server rendering generates the full HTML for a page
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-12-04 12:11:49 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-12-04 12:11:49 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Dec 4, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/javascript-arrow-functions/" itemprop="url">JavaScript Arrow Functions</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    

<h2 id="javascript-arrow-functions">JavaScript Arrow Functions</h2>

<p><a href="https://zendev.com/2018/10/01/javascript-arrow-functions-how-why-when.html" target="_blank">https://zendev.com/2018/10/01/javascript-arrow-functions-how-why-when.html</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-12-01 08:01:48 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-12-01 08:01:48 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Dec 1, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/microservice-security-aaa/" itemprop="url">微服务安全：认证，授权和审计(AAA)</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    

<h1 id="微服务安全要点">微服务安全要点</h1>

<ul>
<li>通信链路加密</li>
<li>灵活的服务访问控制，包括细粒度访问策略</li>
<li>访问日志审计</li>
<li>服务提供方可替代性(batteries included)和可集成性</li>
</ul>

<h1 id="基本概念">基本概念</h1>

<ul>
<li>安全标识</li>
</ul>

<p>在K8S，安全标识(service account)代表一个用户，一个服务或一组服务。</p>

<ul>
<li>安全命名</li>
</ul>

<p>安全命名定义可运行服务的安全标识</p>

<h1 id="微服务认证">微服务认证</h1>

<ul>
<li>传输层认证</li>
<li>终端用户认证</li>
</ul>

<p>每一个终端请求通过JWT(JSON Web Token)校验, 支持Auth0, Firebase。</p>

<p><a href="https://medium.facilelogin.com/securing-microservices-with-oauth-2-0-jwt-and-xacml-d03770a9a838" target="_blank">https://medium.facilelogin.com/securing-microservices-with-oauth-2-0-jwt-and-xacml-d03770a9a838</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-30 23:54:07 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-11-30 23:54:07 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 30, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-iam-policy/" itemprop="url">Aws IAM Policy</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    AWS leverages a standard JSON Identity and Access Management (IAM)
policy document format across many services to control authorization
to resources and API actions
terraform https://www.terraform.io/docs/providers/aws/r/iam_role_policy.html
resource &quot;aws_iam_role_policy&quot; &quot;s3_policy&quot; { name = &quot;s3_policy&quot; role = &quot;${aws_iam_role.lambda_s3_role.id}&quot; policy = &lt;&lt;EOF { &quot;Version&quot;: &quot;2012-10-17&quot;, &quot;Statement&quot;: [ { &quot;Sid&quot;: &quot;ListObjectsInBucket&quot;, &quot;Effect&quot;: &quot;Allow&quot;, &quot;Action&quot;: [&quot;s3:ListBucket&quot;], &quot;Resource&quot;: [&quot;arn:aws:s3:::bucket-name&quot;] }, { &quot;Sid&quot;: &quot;AllObjectActions&quot;, &quot;Effect&quot;: &quot;Allow&quot;, &quot;Action&quot;: &quot;s3:*Object&quot;, &quot;Resource&quot;: [&quot;arn:aws:s3:::bucket-name/*&quot;] } ] } EOF } resource &quot;aws_iam_role&quot; &quot;lambda_s3_role&quot; { name = &quot;lambda_s3_role&quot; assume_role_policy = &lt;&lt;EOF { &quot;Version&quot;: &quot;2012-10-17&quot;, &quot;Statement&quot;: [ { &quot;Action&quot;: &quot;sts:AssumeRole&quot;, &quot;Principal&quot;: { &quot;Service&quot;: &quot;lambda.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-28 23:38:18 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-11-28 23:38:18 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 28, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    2 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/lambda-apigateway/" itemprop="url">函数＋网关</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    运行环境 terraform -v Terraform v0.12.16 + provider.aws v2.39.0  创建函数 main.js
'use strict' exports.handler = function(event, context, callback) { var response = { statusCode: 200, headers: { 'Content-Type': 'text/html; charset=utf-8' }, body: '&lt;p&gt;Hello world!&lt;/p&gt;' } callback(null, response) }  zip ../example.zip main.js  上传 awslocal s3api create-bucket --bucket=terraform-serverless-example awslocal s3 cp example.zip s3://terraform-serverless-example/v1.0.0/example.zip  创建资源 lambda.tf
resource &quot;aws_lambda_function&quot; &quot;example&quot; { function_name = &quot;ServerlessExample&quot; # The bucket name as created earlier with &quot;aws s3api create-bucket&quot; s3_bucket = &quot;terraform-serverless-example&quot; s3_key = &quot;v1.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-24 09:46:24 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-11-24 09:46:24 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 24, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-lambda-notes/" itemprop="url">Aws Lambda Notes</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    

<h2 id="serveless-backend">serveless backend</h2>

<p>Lambda allows  to trigger execution of code</p>

<p>in response to events in AWS, enabling</p>

<p>serverless backend solutions.</p>

<p>The Lambda Function itself includes source code</p>

<p>and runtime configuration.</p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-23 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2018-11-23 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 23, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/2018-11-24-microk8s/" itemprop="url">MicroK8S</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <p>Normally, ${SNAP_DATA} points to /var/snap/microK8S/current.
snap.microK8S.daemon-docker, is the docker daemon started using the arguments in ${SNAP_DATA}/args/dockerd</p>

<pre><code>$snap start microK8S
$microK8S.docker pull registry.cn-beijing.aliyuncs.com/google_containers/pause:3.1
$microK8S.docker tag registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 K8S.gcr.io/pause:3.1


</code></pre>

<p>for resource under namespace kube-system
all-namespaces don&rsquo;t include kube-system</p>

<pre><code>$microK8S.kubectl describe po calico-node-4sq5r --namespace=kube-system

</code></pre>

<p><a href="https://events.static.linuxfound.org/sites/events/files/slides/2016%20-%20Linux%20Networking%20explained_0.pdf" target="_blank">https://events.static.linuxfound.org/sites/events/files/slides/2016%20-%20Linux%20Networking%20explained_0.pdf</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-23 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2018-11-23 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 23, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  
  
  <a href="/post/2018-11-28-jupyternotebook/">
      <img src="/post/2018-11-28-jupyternotebook/featured_hu6922e98a8385358ee55505c52767dd06_20739_918x517_fill_q90_lanczos_smart1.jpg" class="article-banner" itemprop="image" alt="">
  </a>
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/2018-11-28-jupyternotebook/" itemprop="url">entry into jupyter notebook</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    generate configuration file $jupyter notebook --generate-config Writing default config to: /home/bigo/.jupyter/jupyter_notebook_config.py $ diff jupyter_notebook_config.py jupyter_notebook_config.py.bak c.NotebookApp.allow_remote_access = True c.NotebookApp.ip = '0.0.0.0' c.NotebookApp.open_browser = False  set or reset password $jupyter notebook password Enter password: Verify password: [NotebookPasswordApp] Wrote hashed password to /home/bigo/.jupyter/jupyter_notebook_config.json  then restart notebook server
Sharing notebooks When people talk of sharing their notebooks, there are generally two paradigms they may be considering. Most often, individuals share the end-result of their work which means sharing non-interactive, pre-rendered versions of their notebooks; however, it is also possible to collaborate on notebooks with the aid version control systems such as Git
  </div>
  

  

</div>

    
  

  
<nav>
  <ul class="pagination justify-content-center">
    
    <li class="page-item"><a class="page-link" href="/post/">&laquo;</a></li>
    
    
    <li class="page-item"><a class="page-link" href="/post/page/3/">&raquo;</a></li>
    
  </ul>
</nav>



</div>
<div class="container">
  <footer class="site-footer">


  
   <center><img src="/author/admin/avatar.jpg" alt="Weixin:NgAPP"></center>
  
  
  
  

  

  <p class="powered-by">

    
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
      
    </span>
    
    
  </p>
   
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.109caa4f51ff39522c6dfc25fb05b6e9.js"></script>

  </body>
</html>

