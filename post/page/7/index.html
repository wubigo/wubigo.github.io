<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.0.0">
  <meta name="generator" content="Hugo 0.56.3" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Wu Bigo">

  
  
  
    
  
  <meta name="description" content="">

  
  <link rel="alternate" hreflang="en-us" href="https://wubigo.com/post/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#4caf50">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-7621966-10', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  
  <link rel="alternate" href="https://wubigo.com/post/index.xml" type="application/rss+xml" title="wubigo">
  <link rel="feed" href="https://wubigo.com/post/index.xml" type="application/rss+xml" title="wubigo">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://wubigo.com/post/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@wubigo">
  <meta property="twitter:creator" content="@wubigo">
  
  <meta property="og:site_name" content="wubigo">
  <meta property="og:url" content="https://wubigo.com/post/">
  <meta property="og:title" content="Posts | wubigo">
  <meta property="og:description" content=""><meta property="og:image" content="https://wubigo.com/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="og:updated_time" content="2022-02-05T11:40:58&#43;08:00">
  

  

  

  <title>Posts | wubigo</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">wubigo</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        

        <li class="nav-item">
          <a class="nav-link" href="/">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#tags">
            
            <span>Tags</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>About</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/index.xml">
            
            <span>RSS</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>















  

  
  
  
    
  
<div class="universal-wrapper pt-3">
  <h1 itemprop="name">Posts</h1>

  

  
</div>



<div class="universal-wrapper">

  

  
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-20 11:56:47 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-11-20 11:56:47 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 20, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/serverless-supports-events-type-on-aws/" itemprop="url">Serverless Supports Events Type on Aws</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <p><a href="https://serverless.com/framework/docs/providers/aws/events/" target="_blank">https://serverless.com/framework/docs/providers/aws/events/</a></p>

<p><img src="./event-types.png" alt="" /></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-19 16:46:13 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-11-19 16:46:13 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 19, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-get-sqs-notification-on-s3-object-creation/" itemprop="url">基于local stack的本地S3对象创建通知</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    get s3 object creation notification  create queue
awslocal s3 mb s3://localstack awslocal sqs create-queue --queue-name localstack  get queue arn
awslocal sqs get-queue-attributes --queue-url http://localhost:4576/queue/localstack --attribute-names All { &quot;Attributes&quot;: { &quot;ApproximateNumberOfMessagesNotVisible&quot;: &quot;0&quot;, &quot;ApproximateNumberOfMessagesDelayed&quot;: &quot;0&quot;, &quot;CreatedTimestamp&quot;: &quot;1574152022&quot;, &quot;ApproximateNumberOfMessages&quot;: &quot;1&quot;, &quot;ReceiveMessageWaitTimeSeconds&quot;: &quot;0&quot;, &quot;DelaySeconds&quot;: &quot;0&quot;, &quot;VisibilityTimeout&quot;: &quot;30&quot;, &quot;LastModifiedTimestamp&quot;: &quot;1574152022&quot;, &quot;QueueArn&quot;: &quot;arn:aws:sqs:us-east-1:000000000000:localstack&quot; } }  create s3 notification config
cat notification.json { &quot;QueueConfigurations&quot;: [ { &quot;QueueArn&quot;: &quot;arn:aws:sqs:local:000000000000:localstack&quot;, &quot;Events&quot;: [ &quot;s3:ObjectCreated:*&quot; ] } ] }  make notification effect
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-16 16:00:25 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-11-16 16:00:25 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 16, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-log/" itemprop="url">Aws Log</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    AWS Lambda By default, all native logs within a Lambda function are stored in the function execution result within Lambda. Additionally, if you would like to review log information immediately after executing a function, invoking the Lambda function with the LogType parameter will retrieve the last 4KB of log data generated by the function. This information is returned in the x-amz-log-results header in the HTTP response.
While these methods are great ways to test and debug issues associated with individual function calls, they do not do much by way of analysis or alerting.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-16 07:25:19 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-11-16 07:25:19 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 16, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-serverless-localstack-examples/" itemprop="url">基于Localstack的函数计算开发应用列表</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    serverless install -u https://github.com/serverless/examples/tree/master/aws-node-upload-to-s3-and-postprocess -n aws-node-upload-to-s3-and-postprocess sls deploy -s local awslocal logs describe-log-groups { &quot;logGroups&quot;: [ { &quot;arn&quot;: &quot;arn:aws:logs:us-east-1:1:log-group:/aws/lambda/uload-local-postprocess&quot;, &quot;creationTime&quot;: 1573867924377.624, &quot;metricFilterCount&quot;: 0, &quot;logGroupName&quot;: &quot;/aws/lambda/upload-local-postprocess&quot;, &quot;storedBytes&quot;: 0 } ] } awslocal logs describe-log-streams --log-group-name /aws/lambda/uload-local-postprocess { &quot;logStreams&quot;: [] }  serverless install -u https://github.com/serverless/examples/tree/master/aws-node-s3-file-replicator -n aws-node-s3-file-replicator sls deploy -s local awslocal s3api get-bucket-notification-configuration --bucket bbbb awslocal s3api get-bucket-acl --bucket output-bucket-12345  lambda_function.py
import json def my_handler(event, context): print(&quot;Received event: &quot; + json.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-15 15:39:37 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-11-15 15:39:37 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 15, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    3 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-localstack-serverless/" itemprop="url">基于Localstack的Serverless框架本地集成</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    install nodejs install serverless npm install -g serverless npm install serverless-localstack   check serverless version
serverless -v Framework Core: 1.57.0 Plugin: 3.2.3 SDK: 2.2.1 Components Core: 1.1.2 Components CLI: 1.4.0   create serverless function  serverless create --template aws-nodejs --path my-service cd my-service  serverless.yml
functions: hello: handler: handler.hello events: - http: path: ping method: get  plugins: - serverless-localstack custom: localstack: debug: true stages: - local - dev host: http://localhost endpoints: S3: http://localhost:4572 DynamoDB: http://localhost:4570 CloudFormation: http://localhost:4581 Elasticsearch: http://localhost:4571 ES: http://localhost:4578 SNS: http://localhost:4575 SQS: http://localhost:4576 Lambda: http://localhost:4574 Kinesis: http://localhost:4568 APIGateway: http://localhost:4567 CloudWatch: http://localhost:4582 CloudWatchLogs: http://localhost:4586 CloudWatchEvents: http://localhost:4587  deploy redeploy if all Functions, Events or Resources
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-08 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2018-11-08 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 8, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  
  
  <a href="/post/2018-11-08-buildtensorflow-1-12/">
      <img src="/post/2018-11-08-buildtensorflow-1-12/featured_hud54c9ec4a911da88f2221e2dd09a79e0_4159_918x517_fill_q90_lanczos_smart1.jpeg" class="article-banner" itemprop="image" alt="">
  </a>
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/2018-11-08-buildtensorflow-1-12/" itemprop="url">build tensorflow 1.12</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    Note:
 Starting with TensorFlow 1.6, binaries use AVX instructions which may not run on older CPUs Have to build 1.6 or higher from source to run on older CPU
 Bazel 0.19.0 doesn&rsquo;t read tools/bazel.rc anymore WARNING: The following rc files are no longer being read, please transfer their contents or import their path into one of the standard rc files: tensorflow-1.12.0/tools/bazel.rc
$bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package --cxxopt=&quot;-D_GLIBCXX_USE_CXX11_ABI=0&quot; --sandbox_debug &gt; build.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-07 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2018-11-07 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 7, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/2018-11-07-linuxperformancetuning/" itemprop="url">Linux performance</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    putting /tmp on tmpfs https://blog.ubuntu.com/2016/01/20/data-driven-analysis-tmp-on-tmpfs
Interrupt Coalescence ubuntu 16 default
Interrupt Coalescence (IC)
$ethtool -c enp0s25 Coalesce parameters for enp0s25: Adaptive RX: off TX: off  Pause frames
$ethtool -a enp0s25 Pause parameters for enp0s25: Autonegotiate:	on RX:	on TX:	on  network Tuning the network adapter (NIC)
use Jumbo frames
ifconfig eth0 mtu 9000  ip result for a healthy system with no packet drops
ip -s link show eth0  stop irqbalance for home user
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-11-05 09:33:48 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-11-05 09:33:48 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Nov 5, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/dockering-java-8/" itemprop="url">Dockering Java 8</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <p><strong>Improve docker container detection and resource configuration usage</strong></p>

<p><a href="https://blog.softwaremill.com/docker-support-in-new-java-8-finally-fd595df0ca54" target="_blank">https://blog.softwaremill.com/docker-support-in-new-java-8-finally-fd595df0ca54</a></p>

<p><a href="https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html" target="_blank">https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-10-26 14:49:57 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-10-26 14:49:57 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Oct 26, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-lambda-apigateway/" itemprop="url">Aws Lambda Apigateway</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <pre><code> awslocal lambda add-permission --function-name ServerlessExample --action lambda:InvokeFunction --statement-id sns-topic --principal apigateway.amazonaws.com --source-arn &quot;arn:aws:execute-api:us-east-1:123456789012:pmte6kdjb6/*/*&quot;
</code></pre>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-10-26 11:14:14 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-10-26 11:14:14 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Oct 26, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    2 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/http-status-code-for-reset-api/" itemprop="url">REST API中如何使用Http状态码</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    Status-Line The first line of a Response message is the Status-Line, consisting of the protocol version followed by a numeric status code and its associated textual phrase, with each element separated by SP characters. No CR or LF is allowed except in the final CRLF sequence.
 Status-Line = HTTP-Version SP Status-Code SP Reason-Phrase CRLF  status code vs status in body https://www.codetinkerer.com/2015/12/04/choosing-an-http-status-code.html
https://httpstatuses.com/
The main choice is do you want to treat the HTTP status code as part of your REST API or not.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-10-24 09:46:24 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-10-24 09:46:24 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Oct 24, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-lambda-notes/" itemprop="url">Aws Lambda Notes</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    事件 事件源发送的事件是JSON格式，LAMBDA运行时把原始JSON事件转换为
对象并发送给函数代码。
事件的结构和内容由事件源决定
支持事件源的服务
 Kinesis DynamoDB Simple Queue Service  权限 通过权限策略(permissions policy)来管理IAM用户，组或者角色对lambda
API和资源(函数或函数层）访问权限。
权限策略也可以授权给资源本身，让资源或服务访问lambda。
每一个lamdba函数都有一个执行角色(execution role), 该角色授权lamdba函数
本身对其他资源和服务的访问。执行角色至少包含对CLOUDWATCH日志的访问权限。
lambda也通过执行角色请求对事件源的读取权限。
资源  函数 版本 别名 层级  举例：授权SNS 调用 my-function
aws lambda add-permission --function-name my-function --action lambda:InvokeFunction --statement-id sns \ &gt; --principal sns.amazonaws.com --output text {&quot;Sid&quot;:&quot;sns&quot;,&quot;Effect&quot;:&quot;Allow&quot;,&quot;Principal&quot;:{&quot;Service&quot;:&quot;sns.amazonaws.com&quot;},&quot;Action&quot;:&quot;lambda:InvokeFunction&quot;,&quot;Resource&quot;:&quot;arn:aws:lambda:ap-northeast-1:465691908928:function:my-function&quot;}  serveless backend Lambda allows to trigger execution of code
in response to events in AWS, enabling
serverless backend solutions.
The Lambda Function itself includes source code
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-10-21 23:34:49 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-10-21 23:34:49 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Oct 21, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/pass-over-iaas/" itemprop="url">面向应用的无服务器架构</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <p>根据多年在IAAS/PAAS平台的建议经验，并帮助多个行业例如医疗，电信，
建筑行业客户向互联网IAAS/PAAS平台的迁移，在这里做一些直观的分享，
希望能为中小企业上云提供一些有价值的建议。</p>

<p><strong>本帖中部分建议只是针对没有自己数据中心的中小企业，如果已经拥有自己的数据中心，
需要根据目前的计算能力选择相应的云服务厂商</strong></p>

<p>云服务模型</p>

<p><img src="./cloud-model.jpeg" alt="RNA" /></p>

<p>从云服务模型可以看出，企业上云有以下路径可选。
但导向是一致的，专注业务，IT外包。</p>

<ul>
<li>从自建数据中心向IaaS平台迁移</li>
<li>从IaaS平台向PaaS迁移</li>
<li>在公有云厂家间迁移</li>
<li>从IaaS平台向FaaS迁移</li>
<li>混合云</li>
</ul>

<p>上云的初级阶段:
购买云主机， 购买云主机的性价比指标和物理主机的指标完全不同，
如何选择最高性价比的云主机，参考</p>

<p><a href="/post/iaas-how-to-buy-ec2/">云主机主要性价比指标</a></p>

<p>硬盘转速的指标对云主机不再适用，云主机的性价比指标主要有以下几个：</p>

<ul>
<li>云主机内网/外网平均带宽(最核心指标)</li>
<li>存储(网络硬盘)IO吞吐量</li>
<li>初始化完成后首次资源利用率</li>
</ul>

<p>其中内网平均带宽是最核心的指标，不仅关乎到MONEY的问题，而且对你的应用架构
起决定性的影响，原来的应用架构在云主机模式将会长期处于网络IO阻塞状态。造成
这种问题的根本原因不是你原来的架构不好，而是公有云厂商的网络性能太差，在2016
年的时候，阿里的平均带宽还不到100M每秒。AWS大概在200M每秒。</p>

<p><strong>网络带宽是很多企业战略转型决定上云遇到的第一个大坑</strong></p>

<blockquote>
<p>内网平均带宽也是衡量私有云厂商服务能力的核心指标</p>
</blockquote>

<p>所以公有云厂商又开始向你兜售混合云概念。混合云不符合公有云厂商的核心利益</p>

<p><a href="/post/iaas-benchmark-2016/">国内外云厂商主要产品基准测试对比图</a></p>

<p><a href="/post/iaas-gears">上云注意事项</a></p>

<p>上云的中级阶段：PaaS</p>

<p><a href="/post/paas-how-to-buy">如何选择PAAS供应商</a></p>

<p>上云的终级阶段: 不需要服务器。</p>

<p><a href="/post/faas-how-to-buy">如何选择FAAS供应商</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-10-20 13:22:06 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-10-20 13:22:06 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Oct 20, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-s3-upload-with-localstack/" itemprop="url">Aws S3 Upload With Localstack</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <p><a href="https://github.com/wubigo/localstack-examples" target="_blank">https://github.com/wubigo/localstack-examples</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-10-18 19:10:14 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-10-18 19:10:14 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Oct 18, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/the-boring-technology-behind-a-one-person-internet-company/" itemprop="url">一个OPC互联网公司使用的老技术</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    <p>Listen Notes(以下简称LN)是一个iPod试听资料搜索引擎和数据库，</p>

<p>它使用的技术是非常过时的，没有AI，没有深度学习，</p>

<p>没有区块链。“如果有谁一定要说我在使用AI，那他一定没有</p>

<p>使用真正的AI&rdquo;。</p>

<p>通过阅读本帖，你能完全复制一个Listen Notes和其他相似的网站。</p>

<p>你不需要雇佣很多工程师。是否还记得，当脸书以5700万美元收购</p>

<p>Instagram的时候，Instagram总共只有13名员工，包括非工程技术</p>

<p>人员。Instagram是在2012初成立的，现在是2019，云计算技术更加</p>

<p>成熟，站在巨人的肩膀上，一个规模较小的工程团队更有可能做出一</p>

<p>些有意义的产品，即使是像我这样的OPC(一个人独立成立的公司)。</p>

<p>我发现本帖已经在HN和reddit上被广泛分享，对此，我在这里做些</p>

<p>澄清：</p>

<ul>
<li><p>本帖并不是最新的。LN使用的技术栈在不停的演进，经过过去两年的</p>

<p>全职的开发，技术开始变得有点复杂了。LN在2017年初启动的时候</p>

<p>只用了3台VPS.这里所说的“过时”是指我只使用了我熟悉的技术来快速</p>

<p>的开发产品，聚焦到业务侧</p></li>

<li><p>现在我每天只花20%的时间在工程技术上，其他的时间都在进行业务沟通，</p>

<p>回复邮件，每天不断总结思考</p></li>

<li><p>如果因为没有使用你推荐的技术，或者没有回复你提出的问题，而冒犯了</p>

<p>你的话，请你原谅。我不能做到让每个人都开心满意</p></li>

<li><p>本帖只是告诉你做互联网产品的一种方法，但并不是唯一方法。而且它可能</p>

<p>不是最好的方法。它通过使用数据手段帮你了解技术世界。</p></li>
</ul>

<p><a href="https://broadcast.listennotes.com/the-boring-technology-behind-listen-notes-56697c2e347b" target="_blank">https://broadcast.listennotes.com/the-boring-technology-behind-listen-notes-56697c2e347b</a></p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-09-29 09:39:28 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-09-29 09:39:28 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Sep 29, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-lambda-with-localstack/" itemprop="url">基于Localstack的本地Lambda开发</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    Create function index.js
exports.handler = async function(event, context) { console.log(&quot;ENVIRONMENT VARIABLES\n&quot; + JSON.stringify(process.env, null, 2)) console.log(&quot;EVENT\n&quot; + JSON.stringify(event, null, 2)) return context.logStreamName }   打包
zip function.zip index.js  aws lambda create-function --function-name my-function --zip-file fileb://function.zip --handler index.handler --runtime nodejs10.x --role arn:aws:iam::123456789012:role/lambda-cli-role --endpoint-url=http://localhost:4574  aws lambda get-function --function-name my-function --endpoint-url=http://localhost:4574 { &quot;Code&quot;: { &quot;Location&quot;: &quot;http://localhost:4574/2015-03-31/functions/my-function/code&quot; }, &quot;Configuration&quot;: { &quot;TracingConfig&quot;: { &quot;Mode&quot;: &quot;PassThrough&quot; }, &quot;Version&quot;: &quot;$LATEST&quot;, &quot;CodeSha256&quot;: &quot;3d149vplmMjIEgZuPhQgnFJ+tndL4I9D11GL1qdgT6M=&quot;, &quot;FunctionName&quot;: &quot;my-function&quot;, &quot;LastModified&quot;: &quot;2019-09-29T01:16:43.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-09-26 17:14:12 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-09-26 17:14:12 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Sep 26, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/docker-win10-volume/" itemprop="url">WIN用户使用Docker卷</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    

<p>在windows，启动卷必须线启用共享驱动</p>

<h1 id="启用共享驱动">启用共享驱动</h1>

<pre><code>1: Open &quot;Settings&quot; in Docker Desktop -&gt; 
   &quot;Shared Drives&quot; -&gt; 
   &quot;Reset Credentials&quot; -&gt; 
   select drive &quot;D&quot; -&gt; &quot;Apply&quot;
</code></pre>

<h1 id="检查测试卷">检查测试卷</h1>

<pre><code>docker run --rm -v d:/tmp:/data alpine ls /data
</code></pre>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-09-26 14:43:54 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-09-26 14:43:54 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Sep 26, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    2 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/aws-step-function-with-local-lambda/" itemprop="url">基于local stack的Step Function本地化开发</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    安装AWS CLI
(venv) d:\code\venv&gt;pip install awscli pip install awscli-local   awslocal = aws &ndash;endpoint-url=http://localhost:
可以安装到系统环境
 配置AWS CLI
(venv) d:\code\venv&gt;aws configure AWS Access Key ID [None]: any-id-is-ok AWS Secret Access Key [None]: fake-key Default region name [local]: local Default output format [None]:   命令行自动完成
$which aws_completer ~/code/venv/bin/aws_completer   tee ~/.bashrc &lt;&lt;-'EOF' complete -C '~/code/venv/bin/aws_completer' aws EOF   安装AWS SAM CLI
(venv) d:\code&gt;pip install aws-sam-cli (venv) d:\code&gt;sam --version SAM CLI, version 0.
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-09-03 09:03:37 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-09-03 09:03:37 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Sep 3, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    3 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/gatsby-notes/" itemprop="url">Gatsby Notes</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    bind eip gatsby develop -- --host=0.0.0.0  Prettier VS Code plugin JSX The hybrid “HTML-in-JS” is actually a syntax extension
of JavaScript, for React, called JSX
In pure JavaScript, it looks more like this:
src/pages/index.js
import React from &quot;react&quot; export default () =&gt; React.createElement(&quot;div&quot;, null, &quot;Hello world!&quot;)  Now you can spot the use of the &lsquo;react&rsquo; import! But wait. You’re writing JSX, not pure HTML and
JavaScript. How does the browser read that?
  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-08-29 06:26:51 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-08-29 06:26:51 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Aug 29, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/lang-go-dep-manage/" itemprop="url">Lang Go Dep Manage</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    

<h1 id="glide">glide</h1>

<p>To upgrade dependencies, please make the necessary modifications in glide.yaml and run glide update.</p>

  </div>
  

  

</div>

    
  
    
      






  





  


<div class="card-simple" itemscope itemtype="http://schema.org/BlogPosting">

  
    



<meta content="2018-07-23 17:17:44 &#43;0800 CST" itemprop="datePublished">
<meta content="2018-07-23 17:17:44 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Jul 23, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    1 min read
  </span>
  

  
  

  

  

</div>

  

  
  
  

  <h3 class="article-title mb-1 mt-3" itemprop="name">
    <a href="/post/terraform-aws-s3-resource-example/" itemprop="url">Terraform Aws S3 Resource Example</a>
  </h3>

  
  <div class="article-style" itemprop="articleBody">
    Add notification configuration to SNS Topic resource &quot;aws_sns_topic&quot; &quot;topic&quot; { name = &quot;s3-event-notification-topic&quot; policy = &lt;&lt;POLICY { &quot;Version&quot;:&quot;2012-10-17&quot;, &quot;Statement&quot;:[{ &quot;Effect&quot;: &quot;Allow&quot;, &quot;Principal&quot;: {&quot;AWS&quot;:&quot;*&quot;}, &quot;Action&quot;: &quot;SNS:Publish&quot;, &quot;Resource&quot;: &quot;arn:aws:sns:*:*:s3-event-notification-topic&quot;, &quot;Condition&quot;:{ &quot;ArnLike&quot;:{&quot;aws:SourceArn&quot;:&quot;${aws_s3_bucket.bucket.arn}&quot;} } }] } POLICY } resource &quot;aws_s3_bucket&quot; &quot;bucket&quot; { bucket = &quot;your_bucket_name&quot; } resource &quot;aws_s3_bucket_notification&quot; &quot;bucket_notification&quot; { bucket = &quot;${aws_s3_bucket.bucket.id}&quot; topic { topic_arn = &quot;${aws_sns_topic.topic.arn}&quot; events = [&quot;s3:ObjectCreated:*&quot;] filter_suffix = &quot;.log&quot; } }  Add notification configuration to Lambda Function resource &quot;aws_iam_role&quot; &quot;iam_for_lambda&quot; { name = &quot;iam_for_lambda&quot; assume_role_policy = &lt;&lt;EOF { &quot;Version&quot;: &quot;2012-10-17&quot;, &quot;Statement&quot;: [ { &quot;Action&quot;: &quot;sts:AssumeRole&quot;, &quot;Principal&quot;: { &quot;Service&quot;: &quot;lambda.
  </div>
  

  

</div>

    
  

  
<nav>
  <ul class="pagination justify-content-center">
    
    <li class="page-item"><a class="page-link" href="/post/page/6/">&laquo;</a></li>
    
    
    <li class="page-item"><a class="page-link" href="/post/page/8/">&raquo;</a></li>
    
  </ul>
</nav>



</div>
<div class="container">
  <footer class="site-footer">


     
  
  
  
  

  

  <p class="powered-by">

    
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
      
    </span>
    
    
  </p>
   
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.6e3f6df706f5e1819f516bc13278decb.js"></script>

    <script>
      (function() {
        var script = document.createElement('script');
        window.counter = 'https://bigo.goatcounter.com/count'
        script.async = 1;
        script.src = '//gc.zgo.at/count.js';
    
        var ins = document.getElementsByTagName('script')[0];
        ins.parentNode.insertBefore(script, ins)
      })();
    </script>
  </body>
</html>

